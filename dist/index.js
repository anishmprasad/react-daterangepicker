!function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e(require("jquery"),require("moment"),require("react"),require("react-dom")):"function"==typeof define&&define.amd?define(["jquery","moment","react","react-dom"],e):"object"==typeof exports?exports["react-daterangeselector"]=e(require("jquery"),require("moment"),require("react"),require("react-dom")):t["react-daterangeselector"]=e(t.jquery,t.moment,t.react,t["react-dom"])}(this,function(t,e,s,i){return function(t){var e={};function s(i){if(e[i])return e[i].exports;var a=e[i]={i:i,l:!1,exports:{}};return t[i].call(a.exports,a,a.exports,s),a.l=!0,a.exports}return s.m=t,s.c=e,s.d=function(t,e,i){s.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:i})},s.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},s.t=function(t,e){if(1&e&&(t=s(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var i=Object.create(null);if(s.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var a in t)s.d(i,a,function(e){return t[e]}.bind(null,a));return i},s.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return s.d(e,"a",e),e},s.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},s.p="",s(s.s=4)}([function(e,s){e.exports=t},function(t,s){t.exports=e},function(t,e){t.exports=s},function(t,e){t.exports=i},function(t,e,s){"use strict";s.r(e),s.d(e,"default",function(){return D});var i=s(2),a=s.n(i),n=s(3),o=s.n(n),r=s(0),h=s.n(r),l=s(1),c=s.n(l);s(5);function d(t){return(d="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function p(t,e){for(var s=0;s<e.length;s++){var i=e[s];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function m(t,e){return!e||"object"!==d(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function f(t){return(f=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function u(t,e){return(u=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var D=function(t){function e(t){var s;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),s=m(this,f(e).call(this,t));var i=t.options,a=t.callback;return s.options=i,s.cb=a,s}var s,a,n;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&u(t,e)}(e,i["Component"]),s=e,(a=[{key:"componentDidMount",value:function(){if(this.parentEl="body",this.element=h()(o.a.findDOMNode(this)),this.startDate=c()().startOf("day"),this.endDate=c()().endOf("day"),this.minDate=!1,this.maxDate=!1,this.maxSpan=!1,this.autoApply=!1,this.singleDatePicker=!1,this.showDropdowns=!1,this.minYear=c()().subtract(100,"year").format("YYYY"),this.maxYear=c()().add(100,"year").format("YYYY"),this.showWeekNumbers=!1,this.showISOWeekNumbers=!1,this.showCustomRangeLabel=!0,this.timePicker=!1,this.timePicker24Hour=!1,this.timePickerIncrement=1,this.timePickerSeconds=!1,this.linkedCalendars=!0,this.autoUpdateInput=!0,this.alwaysShowCalendars=!1,this.ranges={},this.opens="right",this.element.hasClass("pull-right")&&(this.opens="left"),this.drops="down",this.element.hasClass("dropup")&&(this.drops="up"),this.buttonClasses="btn btn-sm",this.applyButtonClasses="btn-primary",this.cancelButtonClasses="btn-default",this.locale={direction:"ltr",format:c.a.localeData().longDateFormat("L"),separator:" - ",applyLabel:"Apply",cancelLabel:"Cancel",weekLabel:"W",customRangeLabel:"Custom Range",daysOfWeek:c.a.weekdaysMin(),monthNames:c.a.monthsShort(),firstDay:c.a.localeData().firstDayOfWeek()},this.callback=function(){},this.isShowing=!1,this.leftCalendar={},this.rightCalendar={},"object"===d(this.options)&&null!==this.options||(this.options={}),this.options=h.a.extend(this.element.data(),this.options),"string"==typeof this.options.template||this.options.template instanceof h.a||(this.options.template='<div class="daterangeselector"><div class="ranges"></div><div class="drs-calendar left"><div class="calendar-table"></div><div class="calendar-time"></div></div><div class="drs-calendar right"><div class="calendar-table"></div><div class="calendar-time"></div></div><div class="drp-buttons"><span class="drp-selected"></span><button class="cancelBtn" type="button"></button><button class="applyBtn" disabled="disabled" type="button"></button> </div></div>'),this.parentEl=this.options.parentEl&&h()(this.options.parentEl).length?h()(this.options.parentEl):h()(this.parentEl),this.container=h()(this.options.template).appendTo(this.parentEl),"object"===d(this.options.locale)&&("string"==typeof this.options.locale.direction&&(this.locale.direction=this.options.locale.direction),"string"==typeof this.options.locale.format&&(this.locale.format=this.options.locale.format),"string"==typeof this.options.locale.separator&&(this.locale.separator=this.options.locale.separator),"object"===d(this.options.locale.daysOfWeek)&&(this.locale.daysOfWeek=this.options.locale.daysOfWeek.slice()),"object"===d(this.options.locale.monthNames)&&(this.locale.monthNames=this.options.locale.monthNames.slice()),"number"==typeof this.options.locale.firstDay&&(this.locale.firstDay=this.options.locale.firstDay),"string"==typeof this.options.locale.applyLabel&&(this.locale.applyLabel=this.options.locale.applyLabel),"string"==typeof this.options.locale.cancelLabel&&(this.locale.cancelLabel=this.options.locale.cancelLabel),"string"==typeof this.options.locale.weekLabel&&(this.locale.weekLabel=this.options.locale.weekLabel),"string"==typeof this.options.locale.customRangeLabel)){(l=document.createElement("textarea")).innerHTML=this.options.locale.customRangeLabel;var t=l.value;this.locale.customRangeLabel=t}if(this.container.addClass(this.locale.direction),"string"==typeof this.options.startDate&&(this.startDate=c()(this.options.startDate,this.locale.format)),"string"==typeof this.options.endDate&&(this.endDate=c()(this.options.endDate,this.locale.format)),"string"==typeof this.options.minDate&&(this.minDate=c()(this.options.minDate,this.locale.format)),"string"==typeof this.options.maxDate&&(this.maxDate=c()(this.options.maxDate,this.locale.format)),"object"===d(this.options.startDate)&&(this.startDate=c()(this.options.startDate)),"object"===d(this.options.endDate)&&(this.endDate=c()(this.options.endDate)),"object"===d(this.options.minDate)&&(this.minDate=c()(this.options.minDate)),"object"===d(this.options.maxDate)&&(this.maxDate=c()(this.options.maxDate)),this.minDate&&this.startDate.isBefore(this.minDate)&&(this.startDate=this.minDate.clone()),this.maxDate&&this.endDate.isAfter(this.maxDate)&&(this.endDate=this.maxDate.clone()),"string"==typeof this.options.applyButtonClasses&&(this.applyButtonClasses=this.options.applyButtonClasses),"string"==typeof this.options.applyClass&&(this.applyButtonClasses=this.options.applyClass),"string"==typeof this.options.cancelButtonClasses&&(this.cancelButtonClasses=this.options.cancelButtonClasses),"string"==typeof this.options.cancelClass&&(this.cancelButtonClasses=this.options.cancelClass),"object"===d(this.options.maxSpan)&&(this.maxSpan=this.options.maxSpan),"object"===d(this.options.dateLimit)&&(this.maxSpan=this.options.dateLimit),"string"==typeof this.options.opens&&(this.opens=this.options.opens),"string"==typeof this.options.drops&&(this.drops=this.options.drops),"boolean"==typeof this.options.showWeekNumbers&&(this.showWeekNumbers=this.options.showWeekNumbers),"boolean"==typeof this.options.showISOWeekNumbers&&(this.showISOWeekNumbers=this.options.showISOWeekNumbers),"string"==typeof this.options.buttonClasses&&(this.buttonClasses=this.options.buttonClasses),"object"===d(this.options.buttonClasses)&&(this.buttonClasses=this.options.buttonClasses.join(" ")),"boolean"==typeof this.options.showDropdowns&&(this.showDropdowns=this.options.showDropdowns),"number"==typeof this.options.minYear&&(this.minYear=this.options.minYear),"number"==typeof this.options.maxYear&&(this.maxYear=this.options.maxYear),"boolean"==typeof this.options.showCustomRangeLabel&&(this.showCustomRangeLabel=this.options.showCustomRangeLabel),"boolean"==typeof this.options.singleDatePicker&&(this.singleDatePicker=this.options.singleDatePicker,this.singleDatePicker&&(this.endDate=this.startDate.clone())),"boolean"==typeof this.options.timePicker&&(this.timePicker=this.options.timePicker),"boolean"==typeof this.options.timePickerSeconds&&(this.timePickerSeconds=this.options.timePickerSeconds),"number"==typeof this.options.timePickerIncrement&&(this.timePickerIncrement=this.options.timePickerIncrement),"boolean"==typeof this.options.timePicker24Hour&&(this.timePicker24Hour=this.options.timePicker24Hour),"boolean"==typeof this.options.autoApply&&(this.autoApply=this.options.autoApply),"boolean"==typeof this.options.autoUpdateInput&&(this.autoUpdateInput=this.options.autoUpdateInput),"boolean"==typeof this.options.linkedCalendars&&(this.linkedCalendars=this.options.linkedCalendars),"function"==typeof this.options.isInvalidDate&&(this.isInvalidDate=this.options.isInvalidDate),"function"==typeof this.options.isCustomDate&&(this.isCustomDate=this.options.isCustomDate),"boolean"==typeof this.options.alwaysShowCalendars&&(this.alwaysShowCalendars=this.options.alwaysShowCalendars),0!==this.locale.firstDay)for(var e=this.locale.firstDay;e>0;)this.locale.daysOfWeek.push(this.locale.daysOfWeek.shift()),e--;var s,i,a;if(void 0===this.options.startDate&&void 0===this.options.endDate&&h()(this.element).is(":text")){var n=h()(this.element).val(),r=n.split(this.locale.separator);s=i=null,2==r.length?(s=c()(r[0],this.locale.format),i=c()(r[1],this.locale.format)):this.singleDatePicker&&""!==n&&(s=c()(n,this.locale.format),i=c()(n,this.locale.format)),null!==s&&null!==i&&(this.setStartDate(s),this.setEndDate(i))}if("object"===d(this.options.ranges)){for(a in this.options.ranges){s="string"==typeof this.options.ranges[a][0]?c()(this.options.ranges[a][0],this.locale.format):c()(this.options.ranges[a][0]),i="string"==typeof this.options.ranges[a][1]?c()(this.options.ranges[a][1],this.locale.format):c()(this.options.ranges[a][1]),this.minDate&&s.isBefore(this.minDate)&&(s=this.minDate.clone());var l,p=this.maxDate;if(this.maxSpan&&p&&s.clone().add(this.maxSpan).isAfter(p)&&(p=s.clone().add(this.maxSpan)),p&&i.isAfter(p)&&(i=p.clone()),!(this.minDate&&i.isBefore(this.minDate,this.timepicker?"minute":"day")||p&&s.isAfter(p,this.timepicker?"minute":"day")))(l=document.createElement("textarea")).innerHTML=a,t=l.value,this.ranges[t]=[s,i]}var m="<ul>";for(a in this.ranges)m+='<li data-range-key="'+a+'">'+a+"</li>";this.showCustomRangeLabel&&(m+='<li data-range-key="'+this.locale.customRangeLabel+'">'+this.locale.customRangeLabel+"</li>"),m+="</ul>",this.container.find(".ranges").prepend(m)}"function"==typeof this.cb&&(this.callback=this.cb),this.timePicker||(this.startDate=this.startDate.startOf("day"),this.endDate=this.endDate.endOf("day"),this.container.find(".calendar-time").hide()),this.timePicker&&this.autoApply&&(this.autoApply=!1),this.autoApply&&this.container.addClass("auto-apply"),"object"===d(this.options.ranges)&&this.container.addClass("show-ranges"),this.singleDatePicker&&(this.container.addClass("single"),this.container.find(".drs-calendar.left").addClass("single"),this.container.find(".drs-calendar.left").show(),this.container.find(".drs-calendar.right").hide(),this.timePicker||this.container.addClass("auto-apply")),(void 0===this.options.ranges&&!this.singleDatePicker||this.alwaysShowCalendars)&&this.container.addClass("show-calendar"),this.container.addClass("opens"+this.opens),this.container.find(".applyBtn, .cancelBtn").addClass(this.buttonClasses),this.applyButtonClasses.length&&this.container.find(".applyBtn").addClass(this.applyButtonClasses),this.cancelButtonClasses.length&&this.container.find(".cancelBtn").addClass(this.cancelButtonClasses),this.container.find(".applyBtn").html(this.locale.applyLabel),this.container.find(".cancelBtn").html(this.locale.cancelLabel),this.props.hideOnScroll&&window.addEventListener("scroll",this.onScroll.bind(this)),this.container.find(".drs-calendar").on("click.daterangeselector",".prev",h.a.proxy(this.clickPrev,this)).on("click.daterangeselector",".next",h.a.proxy(this.clickNext,this)).on("mousedown.daterangeselector","td.available",h.a.proxy(this.clickDate,this)).on("mouseenter.daterangeselector","td.available",h.a.proxy(this.hoverDate,this)).on("change.daterangeselector","select.yearselect",h.a.proxy(this.monthOrYearChanged,this)).on("change.daterangeselector","select.monthselect",h.a.proxy(this.monthOrYearChanged,this)).on("change.daterangeselector","select.hourselect,select.minuteselect,select.secondselect,select.ampmselect",h.a.proxy(this.timeChanged,this)),this.container.find(".ranges").on("click.daterangeselector","li",h.a.proxy(this.clickRange,this)),this.container.find(".drp-buttons").on("click.daterangeselector","button.applyBtn",h.a.proxy(this.clickApply,this)).on("click.daterangeselector","button.cancelBtn",h.a.proxy(this.clickCancel,this)),this.element.is("input")||this.element.is("button")?this.element.on({"click.daterangeselector":h.a.proxy(this.show,this),"focus.daterangeselector":h.a.proxy(this.show,this),"keyup.daterangeselector":h.a.proxy(this.elementChanged,this),"keydown.daterangeselector":h.a.proxy(this.keydown,this)}):(this.element.on("click.daterangeselector",h.a.proxy(this.toggle,this)),this.element.on("keydown.daterangeselector",h.a.proxy(this.toggle,this))),this.updateElement()}},{key:"onScroll",value:function(t){this.isShowing&&this.hide()}},{key:"render",value:function(){return this.props.inputComponent}},{key:"setStartDate",value:function(t){"string"==typeof t&&(this.startDate=c()(t,this.locale.format)),"object"===d(t)&&(this.startDate=c()(t)),this.timePicker||(this.startDate=this.startDate.startOf("day")),this.timePicker&&this.timePickerIncrement&&this.startDate.minute(Math.round(this.startDate.minute()/this.timePickerIncrement)*this.timePickerIncrement),this.minDate&&this.startDate.isBefore(this.minDate)&&(this.startDate=this.minDate.clone(),this.timePicker&&this.timePickerIncrement&&this.startDate.minute(Math.round(this.startDate.minute()/this.timePickerIncrement)*this.timePickerIncrement)),this.maxDate&&this.startDate.isAfter(this.maxDate)&&(this.startDate=this.maxDate.clone(),this.timePicker&&this.timePickerIncrement&&this.startDate.minute(Math.floor(this.startDate.minute()/this.timePickerIncrement)*this.timePickerIncrement)),this.isShowing||this.updateElement(),this.updateMonthsInView()}},{key:"setEndDate",value:function(t){"string"==typeof t&&(this.endDate=c()(t,this.locale.format)),"object"===d(t)&&(this.endDate=c()(t)),this.timePicker||(this.endDate=this.endDate.endOf("day")),this.timePicker&&this.timePickerIncrement&&this.endDate.minute(Math.round(this.endDate.minute()/this.timePickerIncrement)*this.timePickerIncrement),this.endDate.isBefore(this.startDate)&&(this.endDate=this.startDate.clone()),this.maxDate&&this.endDate.isAfter(this.maxDate)&&(this.endDate=this.maxDate.clone()),this.maxSpan&&this.startDate.clone().add(this.maxSpan).isBefore(this.endDate)&&(this.endDate=this.startDate.clone().add(this.maxSpan)),this.previousRightTime=this.endDate.clone(),this.container.find(".drp-selected").html(this.startDate.format(this.locale.format)+this.locale.separator+this.endDate.format(this.locale.format)),this.isShowing||this.updateElement(),this.updateMonthsInView()}},{key:"isInvalidDate",value:function(){return!1}},{key:"isCustomDate",value:function(){return!1}},{key:"updateView",value:function(){this.timePicker&&(this.renderTimePicker("left"),this.renderTimePicker("right"),this.endDate?this.container.find(".right .calendar-time select").prop("disabled",!1).removeClass("disabled"):this.container.find(".right .calendar-time select").prop("disabled",!0).addClass("disabled")),this.endDate&&this.container.find(".drp-selected").html(this.startDate.format(this.locale.format)+this.locale.separator+this.endDate.format(this.locale.format)),this.updateMonthsInView(),this.updateCalendars(),this.updateFormInputs()}},{key:"updateMonthsInView",value:function(){if(this.endDate){if(!this.singleDatePicker&&this.leftCalendar.month&&this.rightCalendar.month&&(this.startDate.format("YYYY-MM")===this.leftCalendar.month.format("YYYY-MM")||this.startDate.format("YYYY-MM")===this.rightCalendar.month.format("YYYY-MM"))&&(this.endDate.format("YYYY-MM")===this.leftCalendar.month.format("YYYY-MM")||this.endDate.format("YYYY-MM")===this.rightCalendar.month.format("YYYY-MM")))return;this.leftCalendar.month=this.startDate.clone().date(2),this.linkedCalendars||this.endDate.month()===this.startDate.month()&&this.endDate.year()===this.startDate.year()?this.rightCalendar.month=this.startDate.clone().date(2).add(1,"month"):this.rightCalendar.month=this.endDate.clone().date(2)}else this.leftCalendar.month.format("YYYY-MM")!==this.startDate.format("YYYY-MM")&&this.rightCalendar.month.format("YYYY-MM")!==this.startDate.format("YYYY-MM")&&(this.leftCalendar.month=this.startDate.clone().date(2),this.rightCalendar.month=this.startDate.clone().date(2).add(1,"month"));this.maxDate&&this.linkedCalendars&&!this.singleDatePicker&&this.rightCalendar.month>this.maxDate&&(this.rightCalendar.month=this.maxDate.clone().date(2),this.leftCalendar.month=this.maxDate.clone().date(2).subtract(1,"month"))}},{key:"updateCalendars",value:function(){var t,e,s,i;this.timePicker&&(this.endDate?(t=parseInt(this.container.find(".left .hourselect").val(),10),e=parseInt(this.container.find(".left .minuteselect").val(),10),isNaN(e)&&(e=parseInt(this.container.find(".left .minuteselect option:last").val(),10)),s=this.timePickerSeconds?parseInt(this.container.find(".left .secondselect").val(),10):0,this.timePicker24Hour||("PM"===(i=this.container.find(".left .ampmselect").val())&&t<12&&(t+=12),"AM"===i&&12===t&&(t=0))):(t=parseInt(this.container.find(".right .hourselect").val(),10),e=parseInt(this.container.find(".right .minuteselect").val(),10),isNaN(e)&&(e=parseInt(this.container.find(".right .minuteselect option:last").val(),10)),s=this.timePickerSeconds?parseInt(this.container.find(".right .secondselect").val(),10):0,this.timePicker24Hour||("PM"===(i=this.container.find(".right .ampmselect").val())&&t<12&&(t+=12),"AM"===i&&12===t&&(t=0))),this.leftCalendar.month.hour(t).minute(e).second(s),this.rightCalendar.month.hour(t).minute(e).second(s));this.renderCalendar("left"),this.renderCalendar("right"),this.container.find(".ranges li").removeClass("active"),null!=this.endDate&&this.calculateChosenLabel()}},{key:"renderCalendar",value:function(t){var e,s=(e="left"===t?this.leftCalendar:this.rightCalendar).month.month(),i=e.month.year(),a=e.month.hour(),n=e.month.minute(),o=e.month.second(),r=c()([i,s]).daysInMonth(),l=c()([i,s,1]),d=c()([i,s,r]),p=c()(l).subtract(1,"month").month(),m=c()(l).subtract(1,"month").year(),f=c()([m,p]).daysInMonth(),u=l.day();(e=[]).firstDay=l,e.lastDay=d;for(var D=0;D<6;D++)e[D]=[];var y=f-u+this.locale.firstDay+1;y>f&&(y-=7),u===this.locale.firstDay&&(y=f-6);for(var g=c()([m,p,y,12,n,o]),v=(D=0,0),b=0;D<42;D++,v++,g=c()(g).add(24,"hour"))D>0&&v%7==0&&(v=0,b++),e[b][v]=g.clone().hour(a).minute(n).second(o),g.hour(12),this.minDate&&e[b][v].format("YYYY-MM-DD")==this.minDate.format("YYYY-MM-DD")&&e[b][v].isBefore(this.minDate)&&"left"===t&&(e[b][v]=this.minDate.clone()),this.maxDate&&e[b][v].format("YYYY-MM-DD")==this.maxDate.format("YYYY-MM-DD")&&e[b][v].isAfter(this.maxDate)&&"right"===t&&(e[b][v]=this.maxDate.clone());"left"===t?this.leftCalendar.calendar=e:this.rightCalendar.calendar=e;var k="left"===t?this.minDate:this.startDate,C=this.maxDate,Y=("left"===t?this.startDate:this.endDate,this.locale.direction,'<table class="table-condensed">');Y+="<thead>",Y+="<tr>",(this.showWeekNumbers||this.showISOWeekNumbers)&&(Y+="<th></th>"),k&&!k.isBefore(e.firstDay)||this.linkedCalendars&&"left"!==t?Y+="<th></th>":Y+='<th class="prev available"><span></span></th>';var w=this.locale.monthNames[e[1][1].month()]+e[1][1].format(" YYYY");if(this.showDropdowns){for(var P=e[1][1].month(),x=e[1][1].year(),M=C&&C.year()||this.maxYear,S=k&&k.year()||this.minYear,I=x==S,B=x==M,O='<select class="monthselect">',L=0;L<12;L++)(!I||k&&L>=k.month())&&(!B||C&&L<=C.month())?O+="<option value='"+L+"'"+(L===P?" selected='selected'":"")+">"+this.locale.monthNames[L]+"</option>":O+="<option value='"+L+"'"+(L===P?" selected='selected'":"")+" disabled='disabled'>"+this.locale.monthNames[L]+"</option>";O+="</select>";for(var A='<select class="yearselect">',N=S;N<=M;N++)A+='<option value="'+N+'"'+(N===x?' selected="selected"':"")+">"+N+"</option>";w=O+(A+="</select>")}if(Y+='<th colspan="5" class="month">'+w+"</th>",C&&!C.isAfter(e.lastDay)||this.linkedCalendars&&"right"!=t&&!this.singleDatePicker?Y+="<th></th>":Y+='<th class="next available"><span></span></th>',Y+="</tr>",Y+="<tr>",(this.showWeekNumbers||this.showISOWeekNumbers)&&(Y+='<th class="week">'+this.locale.weekLabel+"</th>"),h.a.each(this.locale.daysOfWeek,function(t,e){Y+="<th>"+e+"</th>"}),Y+="</tr>",Y+="</thead>",Y+="<tbody>",null==this.endDate&&this.maxSpan){var E=this.startDate.clone().add(this.maxSpan).endOf("day");C&&!E.isBefore(C)||(C=E)}for(b=0;b<6;b++){for(Y+="<tr>",this.showWeekNumbers?Y+='<td class="week">'+e[b][0].week()+"</td>":this.showISOWeekNumbers&&(Y+='<td class="week">'+e[b][0].isoWeek()+"</td>"),v=0;v<7;v++){var j=[];e[b][v].isSame(new Date,"day")&&j.push("today"),e[b][v].isoWeekday()>5&&j.push("weekend"),e[b][v].month()!=e[1][1].month()&&j.push("off","ends"),this.minDate&&e[b][v].isBefore(this.minDate,"day")&&j.push("off","disabled"),C&&e[b][v].isAfter(C,"day")&&j.push("off","disabled"),this.isInvalidDate(e[b][v])&&j.push("off","disabled"),e[b][v].format("YYYY-MM-DD")==this.startDate.format("YYYY-MM-DD")&&j.push("active","start-date"),null!=this.endDate&&e[b][v].format("YYYY-MM-DD")==this.endDate.format("YYYY-MM-DD")&&j.push("active","end-date"),null!=this.endDate&&e[b][v]>this.startDate&&e[b][v]<this.endDate&&j.push("in-range");var W=this.isCustomDate(e[b][v]);!1!==W&&("string"==typeof W?j.push(W):Array.prototype.push.apply(j,W));var H="",R=!1;for(D=0;D<j.length;D++)H+=j[D]+" ","disabled"==j[D]&&(R=!0);R||(H+="available"),Y+='<td class="'+H.replace(/^\s+|\s+$/g,"")+'" data-title="r'+b+"c"+v+'">'+e[b][v].date()+"</td>"}Y+="</tr>"}Y+="</tbody>",Y+="</table>",this.container.find(".drs-calendar."+t+" .calendar-table").html(Y)}},{key:"renderTimePicker",value:function(t){if("right"!=t||this.endDate){var e,s,i,a=this.maxDate;if(!this.maxSpan||this.maxDate&&!this.startDate.clone().add(this.maxSpan).isBefore(this.maxDate)||(a=this.startDate.clone().add(this.maxSpan)),"left"===t)s=this.startDate.clone(),i=this.minDate;else if("right"===t){s=this.endDate.clone(),i=this.startDate;var n=this.container.find(".drs-calendar.right .calendar-time");if(""!==n.html()&&(s.hour(isNaN(s.hour())?n.find(".hourselect option:selected").val():s.hour()),s.minute(isNaN(s.minute())?n.find(".minuteselect option:selected").val():s.minute()),s.second(isNaN(s.second())?n.find(".secondselect option:selected").val():s.second()),!this.timePicker24Hour)){var o=n.find(".ampmselect option:selected").val();"PM"===o&&s.hour()<12&&s.hour(s.hour()+12),"AM"===o&&12===s.hour()&&s.hour(0)}s.isBefore(this.startDate)&&(s=this.startDate.clone()),a&&s.isAfter(a)&&(s=a.clone())}e='<select class="hourselect">';for(var r=this.timePicker24Hour?0:1,h=this.timePicker24Hour?23:12,l=r;l<=h;l++){var c=l;this.timePicker24Hour||(c=s.hour()>=12?12===l?12:l+12:12===l?0:l);var d=s.clone().hour(c),p=!1;i&&d.minute(59).isBefore(i)&&(p=!0),a&&d.minute(0).isAfter(a)&&(p=!0),c!==s.hour()||p?e+=p?'<option value="'+l+'" disabled="disabled" class="disabled">'+l+"</option>":'<option value="'+l+'">'+l+"</option>":e+='<option value="'+l+'" selected="selected">'+l+"</option>"}for(e+="</select> ",e+=': <select class="minuteselect">',l=0;l<60;l+=this.timePickerIncrement){var m=l<10?"0"+l:l;d=s.clone().minute(l),p=!1,i&&d.second(59).isBefore(i)&&(p=!0),a&&d.second(0).isAfter(a)&&(p=!0),s.minute()!==l||p?e+=p?'<option value="'+l+'" disabled="disabled" class="disabled">'+m+"</option>":'<option value="'+l+'">'+m+"</option>":e+='<option value="'+l+'" selected="selected">'+m+"</option>"}if(e+="</select> ",this.timePickerSeconds){for(e+=': <select class="secondselect">',l=0;l<60;l++)m=l<10?"0"+l:l,d=s.clone().second(l),p=!1,i&&d.isBefore(i)&&(p=!0),a&&d.isAfter(a)&&(p=!0),s.second()!=l||p?e+=p?'<option value="'+l+'" disabled="disabled" class="disabled">'+m+"</option>":'<option value="'+l+'">'+m+"</option>":e+='<option value="'+l+'" selected="selected">'+m+"</option>";e+="</select> "}if(!this.timePicker24Hour){e+='<select class="ampmselect">';var f="",u="";i&&s.clone().hour(12).minute(0).second(0).isBefore(i)&&(f=' disabled="disabled" class="disabled"'),a&&s.clone().hour(0).minute(0).second(0).isAfter(a)&&(u=' disabled="disabled" class="disabled"'),s.hour()>=12?e+='<option value="AM"'+f+'>AM</option><option value="PM" selected="selected"'+u+">PM</option>":e+='<option value="AM" selected="selected"'+f+'>AM</option><option value="PM"'+u+">PM</option>",e+="</select>"}this.container.find(".drs-calendar."+t+" .calendar-time").html(e)}}},{key:"updateFormInputs",value:function(){this.singleDatePicker||this.endDate&&(this.startDate.isBefore(this.endDate)||this.startDate.isSame(this.endDate))?this.container.find("button.applyBtn").prop("disabled",!1):this.container.find("button.applyBtn").prop("disabled",!0)}},{key:"move",value:function(){var t,e={top:0,left:0},s=h()(window).width();this.parentEl.is("body")||(e={top:this.parentEl.offset().top-this.parentEl.scrollTop(),left:this.parentEl.offset().left-this.parentEl.scrollLeft()},s=this.parentEl[0].clientWidth+this.parentEl.offset().left),t="up"==this.drops?this.element.offset().top-this.container.outerHeight()-e.top:this.element.offset().top+this.element.outerHeight()-e.top,this.container.css({top:0,left:0,right:"auto"});var i=this.container.outerWidth();if(this.container["up"===this.drops?"addClass":"removeClass"]("drop-up"),"left"===this.opens){var a=s-this.element.offset().left-this.element.outerWidth();i+a>h()(window).width()?this.container.css({top:t,right:"auto",left:9}):this.container.css({top:t,right:a,left:"auto"})}else if("center"===this.opens)(n=this.element.offset().left-e.left+this.element.outerWidth()/2-i/2)<0?this.container.css({top:t,right:"auto",left:9}):n+i>h()(window).width()?this.container.css({top:t,left:"auto",right:0}):this.container.css({top:t,left:n,right:"auto"});else{var n;(n=this.element.offset().left-e.left)+i>h()(window).width()?this.container.css({top:t,left:"auto",right:0}):this.container.css({top:t,left:n,right:"auto"})}}},{key:"show",value:function(t){this.isShowing||(this._outsideClickProxy=h.a.proxy(function(t){this.outsideClick(t)},this),h()(document).on("mousedown.daterangeselector",this._outsideClickProxy).on("touchend.daterangeselector",this._outsideClickProxy).on("click.daterangeselector","[data-toggle=dropdown]",this._outsideClickProxy).on("focusin.daterangeselector",this._outsideClickProxy),h()(window).on("resize.daterangeselector",h.a.proxy(function(t){this.move(t)},this)),this.oldStartDate=this.startDate.clone(),this.oldEndDate=this.endDate.clone(),this.previousRightTime=this.endDate.clone(),this.updateView(),this.container.show(),this.move(),this.element.trigger("show.daterangeselector",this),this.isShowing=!0)}},{key:"hide",value:function(t){this.isShowing&&(this.endDate||(this.startDate=this.oldStartDate.clone(),this.endDate=this.oldEndDate.clone()),this.startDate.isSame(this.oldStartDate)&&this.endDate.isSame(this.oldEndDate)||this.callback(this.startDate.clone(),this.endDate.clone(),this.chosenLabel),this.updateElement(),h()(document).off(".daterangeselector"),h()(window).off(".daterangeselector"),this.container.hide(),this.element.trigger("hide.daterangeselector",this),this.isShowing=!1)}},{key:"toggle",value:function(t){this.isShowing?this.hide():this.show()}},{key:"outsideClick",value:function(t){var e=h()(t.target);"focusin"===t.type||e.closest(this.element).length||e.closest(this.container).length||e.closest(".calendar-table").length||(this.hide(),this.element.trigger("outsideClick.daterangeselector",this))}},{key:"showCalendars",value:function(){this.container.addClass("show-calendar"),this.move(),this.element.trigger("showCalendar.daterangeselector",this)}},{key:"hideCalendars",value:function(){this.container.removeClass("show-calendar"),this.element.trigger("hideCalendar.daterangeselector",this)}},{key:"clickRange",value:function(t){var e=t.target.getAttribute("data-range-key");if(this.chosenLabel=e,e===this.locale.customRangeLabel)this.showCalendars();else{var s=this.ranges[e];this.startDate=s[0],this.endDate=s[1],this.timePicker||(this.startDate.startOf("day"),this.endDate.endOf("day")),this.alwaysShowCalendars||this.hideCalendars(),this.clickApply()}}},{key:"clickPrev",value:function(t){h()(t.target).parents(".drs-calendar").hasClass("left")?(this.leftCalendar.month.subtract(1,"month"),this.linkedCalendars&&this.rightCalendar.month.subtract(1,"month")):this.rightCalendar.month.subtract(1,"month"),this.updateCalendars()}},{key:"clickNext",value:function(t){h()(t.target).parents(".drs-calendar").hasClass("left")?this.leftCalendar.month.add(1,"month"):(this.rightCalendar.month.add(1,"month"),this.linkedCalendars&&this.leftCalendar.month.add(1,"month")),this.updateCalendars()}},{key:"hoverDate",value:function(t){if(h()(t.target).hasClass("available")){var e=h()(t.target).attr("data-title"),s=e.substr(1,1),i=e.substr(3,1),a=h()(t.target).parents(".drs-calendar").hasClass("left")?this.leftCalendar.calendar[s][i]:this.rightCalendar.calendar[s][i],n=this.leftCalendar,o=this.rightCalendar,r=this.startDate;this.endDate||this.container.find(".drs-calendar tbody td").each(function(t,e){if(!h()(e).hasClass("week")){var s=h()(e).attr("data-title"),i=s.substr(1,1),l=s.substr(3,1),c=h()(e).parents(".drs-calendar").hasClass("left")?n.calendar[i][l]:o.calendar[i][l];c.isAfter(r)&&c.isBefore(a)||c.isSame(a,"day")?h()(e).addClass("in-range"):h()(e).removeClass("in-range")}})}}},{key:"clickDate",value:function(t){if(h()(t.target).hasClass("available")){var e=h()(t.target).attr("data-title"),s=e.substr(1,1),i=e.substr(3,1),a=h()(t.target).parents(".drs-calendar").hasClass("left")?this.leftCalendar.calendar[s][i]:this.rightCalendar.calendar[s][i];if(this.endDate||a.isBefore(this.startDate,"day")){if(this.timePicker){var n=parseInt(this.container.find(".left .hourselect").val(),10);this.timePicker24Hour||("PM"===(l=this.container.find(".left .ampmselect").val())&&n<12&&(n+=12),"AM"===l&&12===n&&(n=0));var o=parseInt(this.container.find(".left .minuteselect").val(),10);isNaN(o)&&(o=parseInt(this.container.find(".left .minuteselect option:last").val(),10));var r=this.timePickerSeconds?parseInt(this.container.find(".left .secondselect").val(),10):0;a=a.clone().hour(n).minute(o).second(r)}this.endDate=null,this.setStartDate(a.clone())}else if(!this.endDate&&a.isBefore(this.startDate))this.setEndDate(this.startDate.clone());else{var l;if(this.timePicker)n=parseInt(this.container.find(".right .hourselect").val(),10),this.timePicker24Hour||("PM"===(l=this.container.find(".right .ampmselect").val())&&n<12&&(n+=12),"AM"===l&&12===n&&(n=0)),o=parseInt(this.container.find(".right .minuteselect").val(),10),isNaN(o)&&(o=parseInt(this.container.find(".right .minuteselect option:last").val(),10)),r=this.timePickerSeconds?parseInt(this.container.find(".right .secondselect").val(),10):0,a=a.clone().hour(n).minute(o).second(r);this.setEndDate(a.clone()),this.autoApply&&(this.calculateChosenLabel(),this.clickApply())}this.singleDatePicker&&(this.setEndDate(this.startDate),this.timePicker||this.clickApply()),this.updateView(),t.stopPropagation()}}},{key:"calculateChosenLabel",value:function(){var t=!0,e=0;for(var s in this.ranges){if(this.timePicker){var i=this.timePickerSeconds?"YYYY-MM-DD HH:mm:ss":"YYYY-MM-DD HH:mm";if(this.startDate.format(i)===this.ranges[s][0].format(i)&&this.endDate.format(i)===this.ranges[s][1].format(i)){t=!1,this.chosenLabel=this.container.find(".ranges li:eq("+e+")").addClass("active").attr("data-range-key");break}}else if(this.startDate.format("YYYY-MM-DD")===this.ranges[s][0].format("YYYY-MM-DD")&&this.endDate.format("YYYY-MM-DD")===this.ranges[s][1].format("YYYY-MM-DD")){t=!1,this.chosenLabel=this.container.find(".ranges li:eq("+e+")").addClass("active").attr("data-range-key");break}e++}t&&(this.showCustomRangeLabel?this.chosenLabel=this.container.find(".ranges li:last").addClass("active").attr("data-range-key"):this.chosenLabel=null,this.showCalendars())}},{key:"clickApply",value:function(t){this.hide(),this.element.trigger("apply.daterangeselector",this)}},{key:"clickCancel",value:function(t){this.startDate=this.oldStartDate,this.endDate=this.oldEndDate,this.hide(),this.element.trigger("cancel.daterangeselector",this)}},{key:"monthOrYearChanged",value:function(t){var e=h()(t.target).closest(".drs-calendar").hasClass("left"),s=e?"left":"right",i=this.container.find(".drs-calendar."+s),a=parseInt(i.find(".monthselect").val(),10),n=i.find(".yearselect").val();e||(n<this.startDate.year()||n===this.startDate.year()&&a<this.startDate.month())&&(a=this.startDate.month(),n=this.startDate.year()),this.minDate&&(n<this.minDate.year()||n===this.minDate.year()&&a<this.minDate.month())&&(a=this.minDate.month(),n=this.minDate.year()),this.maxDate&&(n>this.maxDate.year()||n===this.maxDate.year()&&a>this.maxDate.month())&&(a=this.maxDate.month(),n=this.maxDate.year()),e?(this.leftCalendar.month.month(a).year(n),this.linkedCalendars&&(this.rightCalendar.month=this.leftCalendar.month.clone().add(1,"month"))):(this.rightCalendar.month.month(a).year(n),this.linkedCalendars&&(this.leftCalendar.month=this.rightCalendar.month.clone().subtract(1,"month"))),this.updateCalendars()}},{key:"timeChanged",value:function(t){var e=h()(t.target).closest(".drs-calendar"),s=e.hasClass("left"),i=parseInt(e.find(".hourselect").val(),10),a=parseInt(e.find(".minuteselect").val(),10);isNaN(a)&&(a=parseInt(e.find(".minuteselect option:last").val(),10));var n=this.timePickerSeconds?parseInt(e.find(".secondselect").val(),10):0;if(!this.timePicker24Hour){var o=e.find(".ampmselect").val();"PM"===o&&i<12&&(i+=12),"AM"===o&&12===i&&(i=0)}if(s){var r=this.startDate.clone();r.hour(i),r.minute(a),r.second(n),this.setStartDate(r),this.singleDatePicker?this.endDate=this.startDate.clone():this.endDate&&this.endDate.format("YYYY-MM-DD")===r.format("YYYY-MM-DD")&&this.endDate.isBefore(r)&&this.setEndDate(r.clone())}else if(this.endDate){var l=this.endDate.clone();l.hour(i),l.minute(a),l.second(n),this.setEndDate(l)}this.updateCalendars(),this.updateFormInputs(),this.renderTimePicker("left"),this.renderTimePicker("right")}},{key:"elementChanged",value:function(){if(this.element.is("input")&&this.element.val().length){var t=this.element.val().split(this.locale.separator),e=null,s=null;2===t.length&&(e=c()(t[0],this.locale.format),s=c()(t[1],this.locale.format)),(this.singleDatePicker||null===e||null===s)&&(s=e=c()(this.element.val(),this.locale.format)),e.isValid()&&s.isValid()&&(this.setStartDate(e),this.setEndDate(s),this.updateView())}}},{key:"keydown",value:function(t){9!==t.keyCode&&13!==t.keyCode||this.hide(),27===t.keyCode&&(t.preventDefault(),t.stopPropagation(),this.hide())}},{key:"updateElement",value:function(){if(this.element.is("input")&&this.autoUpdateInput){var t=this.startDate.format(this.locale.format);this.singleDatePicker||(t+=this.locale.separator+this.endDate.format(this.locale.format)),t!==this.element.val()&&this.element.val(t).trigger("change")}}},{key:"remove",value:function(){this.container.remove(),this.element.off(".daterangeselector"),this.element.removeData()}}])&&p(s.prototype,a),n&&p(s,n),e}();D.defaultProps={inputComponent:a.a.createElement("input",{type:"text",name:"dates",className:"form-control pull-right"})}},function(t,e,s){}])});